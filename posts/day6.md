---
title: 'Blogトップ画面の作成について【Day6】【備忘録⑤】'
date: '2023-11-07'
---
# Blogのトップ画面作成するにあたって
現在、HOME画面にBlog欄があり、日付が新しい順に『タイトル、日付』がリンク込みでずらっと並んでいます。
これを、よくある感じのデザインにしたいと思います。

![改修前のホームblog画面](/images/ホームのBlog画面改修前.png)

まずは、最低限やりたいことをまとめておきます。
- よくあるブログサイトの構成を理解する。
- Blogのトップ画面を作り、こちらは全記事が時系列で見られるようにする（moreボタンの推移先）。
- HOME画面には4つ程度しかBlog記事を表示させないようにする。
- HOME画面にBlog全部が見られるようにmoreボタンを設置する。

# よくあるブログの構成
あまり深く考えたことがなかったですが、すごいシンプルにブログの構成ってパターンがありそうです。  
1. サムネイル
2. タイトル
3. 日付(投稿日・更新日)
4. 本文（見出し、段落）

この辺りが一般的な構成になっていて、更にコメント投稿欄や、お気に入りボタン、SNSシェア等々、色々とカスタマイズしているブロガーの方が多いですね。

ただ、ブログのトップ画面では、下記の3つが標準になっているように見えます。
1. サムネイル
2. タイトル
3. 日付(投稿日・更新日)

サムネイルと本文が綺麗に表示されていて、クリックすると投稿ページに推移するようになっています。  
仕組み自体は簡単そうですが、デザインも洗練されているものも多く、結構時間がかかりそうだなぁ・・・という感想を持ちました。

やはり、最低限やりたいことの中にデザイン等を入れるのはやめておいて、一旦は機能に注力します。

# Blogトップページの作成
- Pagesディレクトリにblog.jsファイルを作成＊（https://www.oceanhelplife.com/blog）でアクセス可能
- 現在のHOME画面のコード（index.js）ををそのままコピペ
- HOME画面上に記載されている、自己紹介みたいな文は削除

シンプルすぎますが、一旦はこれで完了とします。

![ブログトップ画面](/images/ブログトップ画面スクショ.png)

# HOMEに4つに絞ったBlogリンクを作成
元々はブログの全投稿データを取得するコードになっていましたが、
下記の通り変更しています。
```js 
export async function getStaticProps() {
  const allPostsData = getSortedPostsData();
  return {
    props: {
      allPostsData,
    },
  };
}
```
↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓  
元々、時系列に並べ替えする設定だったので、最新4件を取得するためには、
2行目に.slice()というメソッドを追加するだけで完了しました。
```js
export async function getStaticProps() {
  const allPostsData = getSortedPostsData().slice(0, 4);
  return {
    props: {
      allPostsData,
    },
  };
}
```

# HOME画面にmoreボタンを設置する。
ボタンはまたデザインの問題になりそうだったので、一旦リンク機能+文字のみで実装を完了させました。  
↓は画像貼り付けのためリンクなし。
![ボタン実装前イメージ](/images/ブログ一覧ボタン.png)


# 今後について
全体的に見た目をもう少し整えていく必要があると思いますが、デザインは最後にまとめて変える方が簡単そうなので、先延ばしします。  
直近では、下記3つを中心にやっていこうと思います。
- 投稿記事にサムネイルをつける。
- BlogやHOMEのトップ画面に、サムネイル+タイトル（記事リンクを埋め込む）を表示させる。
- CSSについて、現在、/styles/Home.module.cssと/components/layout.module.cssの二つに跨っている。この理由を理解する。

また、GitHub Copilotについては、まだ差し迫って必要性を感じないので、本当に困った時用に、無料期間を使わずにいようと思いました。

# メモ
ブログの投稿ページにはサムネイルを入れたい。  
できれば、本文の中に、コードブロックでも画像でもなく、黒背景で複数色使われているような埋め込みエディターのようなものを入れ込んでおきたい。
将来的には、ブログトップ画面をサムネイル、本文等でGoogleのトップ画面に出てくるような記事一覧を作りたい。
CSSについて、現在、/styles/Home.module.cssと/components/layout.module.cssの二つに跨っている。この理由を調べる。

# 参考文献
[Hatena Blog](https://hatenablog.com/)  
[GitHub](https://github.com/OceanHelpLife/nextjs-blog)
